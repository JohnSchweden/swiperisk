---
phase: 01-layout-foundation
plan: 05
type: execute
wave: 5
depends_on: ["01-04"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User can navigate through all 8 stages without visual jumps"
    - "Desktop: Content stays centered when scrollbar appears/disappears"
    - "Mobile: Content starts from consistent top position"
    - "LayoutShell component used consistently across all stages"
  artifacts:
    - path: "Verification completed via human checkpoint"
      provides: "Visual confirmation of layout consistency"
  key_links:
    - from: "User testing"
      to: "Layout implementation"
      via: "Manual navigation through all 8 stages"
---

<objective>
Verify the layout foundation implementation through manual testing of all 8 game stages.

Purpose: Confirm that the LayoutShell component works correctly across all screens, eliminating visual jumps on both desktop and mobile.

Output: Human verification that all 5 LAYOUT requirements are satisfied.
</objective>

<execution_context>
@/Users/yevgenschweden/.config/opencode/get-shit-done/workflows/execute-plan.md
@/Users/yevgenschweden/.config/opencode/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/01-layout-foundation/01-04-SUMMARY.md

**Implementation Complete:**
- LayoutShell component created (components/LayoutShell.tsx)
- All 8 screens refactored to use LayoutShell:
  1. Intro
  2. Personality Select
  3. Role Select
  4. Initializing
  5. Game (major refactor)
  6. Boss Fight
  7. Game Over
  8. Summary
- scrollbar-gutter CSS added to index.html for desktop
- All min-h-screen replaced with min-h-[100dvh]

**Requirements to Verify:**
- **LAYOUT-01**: Unified responsive layout system implemented
- **LAYOUT-02**: Visual jumps eliminated between all 8 screens
- **LAYOUT-03**: Desktop scrollbar layout shifts prevented
- **LAYOUT-04**: Mobile viewport instability fixed
- **LAYOUT-05**: Reusable LayoutShell component created and used

**Test Scenarios:**
1. Navigate through all stages on desktop
2. Navigate through all stages on mobile
3. Resize browser window on desktop
4. Scroll on mobile browser
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 1: Verify layout consistency across all 8 stages</name>
  <what-built>
Layout foundation implementation complete:
- LayoutShell component with responsive logic (desktop centered, mobile top-anchored)
- All 8 game stages refactored to use LayoutShell
- scrollbar-gutter CSS for desktop to prevent scrollbar layout shifts
- 100dvh viewport units for mobile stability
  </what-built>
  <how-to-verify>
**Desktop Testing:**
1. Open the application in Chrome/Safari/Firefox
2. Navigate through all 8 stages: Intro → Personality → Role → Initializing → Game → Boss Fight → Game Over → Summary
3. **Verify LAYOUT-02**: No visual jumps between screens - content should appear in consistent position
4. **Verify LAYOUT-03**: Resize browser window - centered content should not shift when scrollbar appears/disappears

**Mobile Testing:**
1. Open the application on mobile browser (or use DevTools mobile emulator)
2. Navigate through all 8 stages
3. **Verify LAYOUT-02**: No visual jumps between screens
4. **Verify LAYOUT-04**: Content should start from consistent top position (pt-20 on mobile)
5. **Verify LAYOUT-04**: Scroll on mobile browser - content should stay stable when toolbars collapse/expand

**Code Review:**
1. Check App.tsx - verify LayoutShell is imported and used in all 8 render methods
2. Check components/LayoutShell.tsx - verify component exists with responsive logic
3. Check index.html - verify scrollbar-gutter CSS exists for desktop

**Success Criteria:**
- [ ] Navigate through all 8 stages on desktop — no visual jumps, content stays centered
- [ ] Navigate through all 8 stages on mobile — no visual jumps, content starts from consistent top position
- [ ] Resize browser window on desktop — centered content doesn't shift when scrollbar appears/disappears
- [ ] Scroll on mobile browser — content stays stable when mobile browser toolbars collapse/expand
- [ ] Code review: LayoutShell component used consistently across all stages
  </how-to-verify>
  <resume-signal>Type "approved" if all criteria pass, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
After human verification:
1. All 5 LAYOUT requirements confirmed satisfied
2. No visual jumps detected between screens
3. Desktop scrollbar behavior stable
4. Mobile viewport behavior stable
5. LayoutShell used consistently in all 8 render methods
</verification>

<success_criteria>
- Human verification completed for all 8 stages
- No visual jumps detected between screens
- Desktop scrollbar-gutter working correctly
- Mobile 100dvh viewport stable
- All 5 LAYOUT requirements marked complete
- Phase 1 ready for completion
</success_criteria>

<output>
After completion, create `.planning/phases/01-layout-foundation/01-05-SUMMARY.md`
</output>
